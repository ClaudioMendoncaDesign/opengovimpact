// ====================================================
// Declaring Variables for the colors in the table
// ====================================================

$black: rgba(0,0,0,.7);
$main-color: rgba(0, 175, 240,1);
$transparency-color: rgba(200, 100, 0, 1);
$citizen-engagement-color: rgba(0, 200, 100, 1);
$responsiveness-color: rgba( 100, 0, 200, 1);
$accountability-color: rgba(0, 50, 150, 1);
$social-change-color: rgba(150, 150, 0, 1);


// ====================================================
// Setting some base styles for body and table elements
// ====================================================

body {
  font-size: 11px;
  line-height: 1.5;
  font-family: sans-serif;
  font-weight: 100;
  margin: 0;
  padding: 0;
  width: 100vw;
  overflow: hidden;
}

table {
  border-collapse: collapse;
  table-layout: fixed;
  width: 100%;
  white-space: nowrap;
}

td, th { 
  padding: 5px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

th { 
  text-align: left; 
  font-weight: 100;
}

.links { 
  text-align: center; 
  width: 45px !important;


}

.links a { color: $black; }


// ====================================================
// Branding 
// ====================================================

.branding {
  position: absolute;
  padding: 40px;

  &__logo {
    max-width: 240px;
  }

  &__title,
  &__tagline {
    
    margin: 0 0 0 52px;
  }    

  &__title {
    font-weight: 300;
    font-size: 1.3rem;    
    color: rgba($black, .6);
  }

  &__tagline {
    font-size: .9rem;
    font-weight: 800;
    text-transform: uppercase;
    color: rgba($black, .4);
    letter-spacing: .3px;
  }
}


// ====================================================
// Creates the scrollable section of the table
// ====================================================

.table-scroll {
  height: 70vh;
  overflow: scroll;
  padding-bottom: 50px;
}


// ====================================================
// Hides this helper row. This row is used to set the custom width for the columns
// ====================================================

.table-body__width-setter td {
  height: 0;
  padding: 0;
}


// ====================================================
// Sets the zebra apttern for the rows
// ====================================================

tr:nth-child(2n) { background-color: rgba($black, .05); }

// ====================================================
// Setting the width and bg-color of the columns
// ====================================================

.col-1 { width: 20%; }
.col-2 { width:  7%; }
.col-3 { width:  9%; }
.col-4 { width:  5%; }

.inactive-cell { 
  background-color: rgba(white, .5); 
  width: 6%;
}


// ====================================================
// Sets the styles for the dividers in the scrollable section
// ====================================================

.inter-header {
  font-weight: bold;
  text-align: center;
  text-transform: uppercase;
  
  td { 
    padding: 12px 0 10px; 
    background-color: $main-color;
    color: white;
    letter-spacing: .5px;
  }

  &--final {
    background-color: rgba($black, .8) !important;
  }
}


// ====================================================
// Sets the styles for the header
// ====================================================

.table-header {
  box-shadow: 0 3px 5px rgba($black, .2);

  td { padding: 10px; }

  &__bottom td { vertical-align: bottom; }
}

.table-categories {
  th {
    font-weight: bold;
    color: white;
    background-color: $black;
    text-align: center;
  }

  th:first-child {
    text-align: left;
  }
}


// ====================================================
// Sets the styles for the inclined labels
// ====================================================

// Inspired in CSS Tricks - https://css-tricks.com/rotated-table-column-headers/

.table-header-rotated {
  .rotate {
    overflow: visible;
    height: 200px;
    white-space: nowrap;
    // Firefox needs the extra DIV for some reason, otherwise the text disappears if you rotate 
    > div {
      transform: 
        // Magic Numbers
        translate(18px, 5px)
        // 45 is really 360-45
        rotate(315deg);
      width: 30px;
    }
    > div > span {
      padding: 8px 9px 8px 0;
      width: 350px;
      display: inline-block;
      position: relative;

      &:before {
        content: "";
        width: 0;
        height: 0;
        border-style: solid;
        border-color: transparent;
        position: absolute;
        border-width: 0 31px 31px 31px;
        top: 0px;
        left: -62px;
      }
    }
  }
}


// ====================================================
// Color Coding
// ====================================================

.links.cat-transparency                           { background-color:   rgba($transparency-color, .1); }
.links.cat-transparency:nth-of-type(2n)           { background-color:   rgba($transparency-color, .15); }
.cat-transparency:before                          { border-right-color: rgba($transparency-color, .1) !important; }

.links.cat-citizen-engagement                     { background-color:   rgba($citizen-engagement-color, .1); }
.links.cat-citizen-engagement:nth-of-type(2n)     { background-color:   rgba($citizen-engagement-color, .15); }
.cat-citizen-engagement:before                    { border-right-color: rgba($citizen-engagement-color, .1) !important; }

.links.cat-responsiveness                         { background-color:   rgba($responsiveness-color, .1); }
.links.cat-responsiveness:nth-of-type(2n)         { background-color:   rgba($responsiveness-color, .15); }
.cat-responsiveness:before                        { border-right-color: rgba($responsiveness-color, .1) !important; }

.links.cat-accountability                         { background-color:   rgba($accountability-color, .1); }
.links.cat-accountability:nth-of-type(2n)         { background-color:   rgba($accountability-color, .15); }
.cat-accountability:before                        { border-right-color: rgba($accountability-color, .1) !important; }

.links.cat-social-economic-change                 { background-color:   rgba($social-change-color, .1); }
.links.cat-social-economic-change:nth-of-type(2n) { background-color:   rgba($social-change-color, .15); }
.cat-social-economic-change:before                { border-right-color: rgba($social-change-color, .1) !important; }


.table-categories {
  .cat-transparency            { background-color: $transparency-color; }
  .cat-citizen-engagement      { background-color: $citizen-engagement-color; }
  .cat-responsiveness          { background-color: $responsiveness-color; }
  .cat-accountability          { background-color: $accountability-color; }
  .cat-social-economic-change  { background-color: $social-change-color; }
}

.table-header-rotated {
  .cat-transparency > div > span                                  { background-color:   rgba($transparency-color, .1); }
  .cat-transparency:nth-of-type(2n) > div > span                  { background-color:   rgba($transparency-color, .15); }
  .cat-transparency:nth-of-type(2n) > div > span:before           { border-right-color: rgba($transparency-color, .15); }
  .cat-transparency > div > span:before                           { border-right-color: rgba($transparency-color, .1); }
  
  
  .cat-citizen-engagement > div > span                            { background-color:   rgba($citizen-engagement-color, .1); }
  .cat-citizen-engagement:nth-of-type(2n) > div > span            { background-color:   rgba($citizen-engagement-color, .15); }
  .cat-citizen-engagement:nth-of-type(2n) > div > span:before     { border-right-color: rgba($citizen-engagement-color, .15); }
  .cat-citizen-engagement > div > span:before                     { border-right-color: rgba($citizen-engagement-color, .1); }
  
  
  .cat-responsiveness > div > span                                { background-color:   rgba($responsiveness-color, .1); }
  .cat-responsiveness:nth-of-type(2n) > div > span                { background-color:   rgba($responsiveness-color, .15); }
  .cat-responsiveness:nth-of-type(2n) > div > span:before         { border-right-color: rgba($responsiveness-color, .15); }
  .cat-responsiveness > div > span:before                         { border-right-color: rgba($responsiveness-color, .1); }
  
  
  .cat-accountability > div > span                                { background-color:   rgba($accountability-color, .1); }
  .cat-accountability:nth-of-type(2n) > div > span                { background-color:   rgba($accountability-color, .15); }
  .cat-accountability:nth-of-type(2n) > div > span:before         { border-right-color: rgba($accountability-color, .15); }
  .cat-accountability > div > span:before                         { border-right-color: rgba($accountability-color, .1); }
  
  
  .cat-social-economic-change > div > span                        { background-color:   rgba($social-change-color, .1); }
  .cat-social-economic-change:nth-of-type(2n) > div > span        { background-color:   rgba($social-change-color, .15); }
  .cat-social-economic-change:nth-of-type(2n) > div > span:before { border-right-color: rgba($social-change-color, .15); }
  .cat-social-economic-change > div > span:before                 { border-right-color: rgba($social-change-color, .1); }
}
